{"version":3,"sources":["webpack://workadventure-map-starter-kit/./src/index.ts"],"names":["currentZone","currentPopup","console","log","config","zone","message","cta","label","className","callback","WA","openTab","openPopup","zoneName","popupName","find","item","closePopup","undefined","close","onEnterZone","onLeaveZone"],"mappings":"mBAKA,IAAIA,EACAC,EAHJC,QAAQC,IAAI,+BAKZ,MAAMC,EAAS,CACX,CACIC,KAAM,WACNC,QAAS,2DACTC,IAAK,CACD,CACIC,MAAO,UACPC,UAAW,UACXC,SAAU,IAAMC,GAAGC,QAAQ,yEAIvC,CACIP,KAAM,WACNC,QAAS,8CACTC,IAAK,CACD,CACIC,MAAO,WACPC,UAAW,UACXC,SAAU,IAAMC,GAAGC,QAAQ,oDAE/B,CACIJ,MAAO,UACPC,UAAW,UACXC,SAAU,IAAMC,GAAGC,QAAQ,0CAmB3C,SAASC,EAAUC,EAAkBC,GACjC,MAAMV,EAAOD,EAAOY,MAAMC,GACfA,EAAKZ,MAAQS,SAEJ,IAATT,IAEPJ,EAAeU,GAAGE,UAAUE,EAAWV,EAAKC,QAASD,EAAKE,MAGlE,SAASW,SACuBC,WAAjBlB,IACPA,EAAamB,QACbnB,OAAekB,GAxBvBR,GAAGU,YAAY,YAAY,KACvBrB,EAAc,WACda,EAAUb,EAAaA,EAAc,YAEzCW,GAAGU,YAAY,YAAY,KACvBrB,EAAc,WACda,EAAUb,EAAaA,EAAc,YAEzCW,GAAGW,YAAY,WAAYJ,GAC3BP,GAAGW,YAAY,WAAYJ,I","file":"script.js","sourcesContent":["/// <reference path=\"../node_modules/@workadventure/iframe-api-typings/iframe_api.d.ts\" />\n\n\nconsole.log('Script started successfully');\n\nlet currentZone: string;\nlet currentPopup: any;\n\nconst config = [\n    {\n        zone: 'needHelp',\n        message: 'Do you need some guidance? We are happy to help you out.',\n        cta: [\n            {\n                label: 'Meet us',\n                className: 'primary',\n                callback: () => WA.openTab('https://play.staging.workadventu.re/@/tcm/workadventure/wa-village'),\n            }\n        ]\n    },\n    {\n        zone: 'followUs',\n        message: 'Hey! Have you already started following us?',\n        cta: [\n            {\n                label: 'LinkedIn',\n                className: 'primary',\n                callback: () => WA.openTab('https://www.linkedin.com/company/workadventu-re'),\n            },\n            {\n                label: 'Twitter',\n                className: 'primary',\n                callback: () => WA.openTab('https://twitter.com/workadventure_'),\n            }\n        ]\n    },\n]\n\n\nWA.onEnterZone('needHelp', () => {\n    currentZone = 'needHelp'\n    openPopup(currentZone, currentZone + 'Popup')\n});\nWA.onEnterZone('followUs', () => {\n    currentZone = 'followUs'\n    openPopup(currentZone, currentZone + 'Popup')\n});\nWA.onLeaveZone('needHelp', closePopup);\nWA.onLeaveZone('followUs', closePopup);\n\n\nfunction openPopup(zoneName: string, popupName: string) {\n    const zone = config.find((item) => {\n        return item.zone == zoneName\n    });\n    if (typeof zone !== 'undefined') {\n        // @ts-ignore otherwise we can't use zone.cta object\n        currentPopup = WA.openPopup(popupName, zone.message, zone.cta)\n    }\n}\nfunction closePopup(){\n    if (typeof currentPopup !== undefined) {\n        currentPopup.close();\n        currentPopup = undefined;\n    }\n}"],"sourceRoot":""}